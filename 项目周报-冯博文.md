### 项目周报模板。

---

#### **[StreamCream系统] 周报**

**报告周期：** 2025年6月23日 至 2025年6月30日
**报告人：** 冯博文
**报告日期：** 2025年6月30日

---

**一、 基本信息**

*   **项目名称：** StreamCream
*   **当前项目阶段：** 核心功能开发阶段
*   **本周总工时：** 66小时

---

**二、 本周完成工作**

*   **目标达成情况：**
    *   上周计划完成登录功能后端开发和前后端联调，已完成100%。
    *   上周计划完成模型切换功能的后端接口开发，已完成100%。
    *   上周计划完成用户偏好存储功能，已完成100%。

*   **具体完成任务列表：**
    *   **任务1：** 完成了完整的用户认证系统后端开发，包括用户注册、登录、JWT令牌验证等功能。实现了基于Flask的用户管理系统，包含用户模型(User)、用户设置模型(UserSetting)和推流模型(Stream)，支持密码加密存储和令牌黑名单机制拓展。
    *   **任务2：** 完成了登录功能的前后端联调，前端实现了响应式登录/注册界面，支持表单验证和错误提示，后端提供了完整的RESTful API接口，包括`/api/register`、`/api/login`、`/api/verify-token`等端点。
    *   **任务3：** 完成了模型切换功能的后端接口开发，实现了GPT-SoVITS模型的动态切换功能，支持多种模型版本的配置和切换，包括GPT模型权重和SoVITS模型权重的独立切换。
    *   **任务4：** 完成了模型切换功能的前后端联调，前端实现了ModelSelector组件，支持模型组选择、模型对选择、参考音频切换等功能，后端提供了`/set_gpt_weights`、`/set_sovits_weights`、`/list_model_groups`等API接口。
    *   **任务5：** 完成了用户偏好存储系统的开发，实现了基于JSON字段的用户设置存储，支持AI设置、调试模式、界面颜色、分辨率、帧率、背景、直播平台等多种用户偏好的持久化存储和同步。
    *   **任务6：** 完成了用户偏好存储的前后端联调，前端实现了设置页面(settingPage.vue)，支持多种设置的实时保存和同步，后端提供了`/api/preferences`的GET和POST接口，支持用户偏好的获取和保存。

---

**三、 未完成工作及原因**

*   **未完成任务列表：**
    *   无未完成任务

---

**四、 遇到的问题与困难**

*   **技术问题：**
    *   **问题1：** 在实现JWT令牌验证时，遇到了令牌被修改问题，需要确保令牌被修改后无法继续使用。
    *   **已尝试的解决方案：** 使用JWT ID (jti) 来唯一标识令牌。
*   **非技术问题：**
    *   **问题1：** 在前后端联调过程中，遇到了CORS跨域问题，导致前端无法正常访问后端API。
    *   **已采取的措施：** 在后端配置了Flask-CORS扩展，设置了允许的源、方法和请求头，解决了跨域访问问题。
    *   **问题2：** 碰到了依赖版本不一致的问题.
    *   **已采取的措施：**重新下载依赖库。

---

**五、 下周计划**

*   **主要目标：**
    *   完成推流功能的核心开发，实现基于webRTC或chrom插件的直播推流功能。
*   **具体任务列表：**
    *   **任务1：** 开发推流后端服务，实现FFmpeg推流命令的封装和管理 (预计3天)。
    *   **任务2：** 完成推流功能的前后端联调，实现推流状态监控和控制界面 (预计2天)。
    *   **任务5：** 进行系统集成测试，确保各模块之间的协调工作 (预计1天)。

---

**六、 心得体会与学习收获**

*   **本周学习到的新知识/技能：**
    *   深入学习了Flask框架的用户认证系统设计，掌握了JWT令牌的生成、验证机制。
    *   掌握了SQLAlchemy ORM的高级用法，包括JSON字段的使用、关系模型的建立。
    *   学习了前后端分离架构中的状态管理，包括Pinia状态管理和本地存储的配合使用。
    *   深入理解了RESTful API的设计原则，包括HTTP状态码的正确使用和响应格式的标准化。

*   **对项目或开发流程的思考：**
    *   认识到模块化设计的重要性，将用户认证、模型管理、偏好存储等功能分离，提高了代码的可维护性和可扩展性。
    *   体会到前后端联调的重要性，良好的API设计和错误处理机制能够大大提高开发效率。
    *   对数据库设计有了更深入的理解，合理的数据模型设计能够支持复杂的业务需求。

*   **自我改进方面：**
    *   发现自己在API文档编写方面还有不足，下周会加强API文档的编写和维护。
    *   意识到需要加强错误处理和日志记录，提高系统的可观测性和调试效率。
    *   认识到代码测试的重要性。



---